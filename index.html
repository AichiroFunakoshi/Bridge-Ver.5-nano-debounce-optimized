<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>同時音声翻訳 - Bridge</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">

  <!-- Icons -->
  <link rel="icon" href="images/icons/icon_120x120.jpg" sizes="120x120">
  <link rel="apple-touch-icon" href="images/icons/apple-touch-icon-180x180.jpg" sizes="180x180">
</head>
<body>
  <div class="app">
    <div class="header">
      <div>
        <strong>同時音声翻訳（Bridge）</strong>
        <div id="status" class="status">待機中</div>
      </div>
      <div class="controls">
        <button id="startJapaneseBtn" class="button language-button">日本語開始</button>
        <button id="startEnglishBtn" class="button language-button">英語開始</button>
        <button id="stopBtn" class="button" style="display:none"><span id="stopBtnText">停止</span></button>
        <button id="resetBtn" class="button">リセット</button>
        <div id="listeningIndicator" class="indicator listening-indicator" title="listening"></div>
        <div id="translatingIndicator" class="indicator translating-indicator" title="translating"></div>
      </div>
    </div>

    <div class="container">
      <div class="card">
        <h3>原文 <span id="sourceLanguage">—</span></h3>
        <div id="originalText" class="result-content size-medium"></div>
        <div class="controls-row">
          <button id="fontSizeSmall" class="controls font-toggle">小</button>
          <button id="fontSizeMedium" class="controls font-toggle">中</button>
          <button id="fontSizeLarge" class="controls font-toggle">大</button>
          <button id="fontSizeXLarge" class="controls font-toggle">特大</button>
        </div>
      </div>

      <div class="card">
        <h3>翻訳 <span id="targetLanguage">—</span></h3>
        <div id="translatedText" class="result-content size-medium"></div>
        <div id="errorMessage" class="error" style="display:block"></div>
      </div>
    </div>

    <div class="card" style="margin-top:16px">
      <h3>設定</h3>
      <button id="settingsButton" class="button">APIキー設定</button>
      <div id="apiModal" class="modal">
        <div class="box">
          <label>OpenAI API Key</label>
          <input id="openaiKey" style="width:100%;padding:8px;margin-top:8px" placeholder="sk-...">
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="saveApiKeys" class="button">保存</button>
            <button id="resetKeys" class="button">リセット</button>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">※ このアプリは Web Speech API と OpenAI を使用します。ブラウザとマイクの権限を確認してください。</div>
  </div>

  <script src="app.js"></script>
</body>
</html>